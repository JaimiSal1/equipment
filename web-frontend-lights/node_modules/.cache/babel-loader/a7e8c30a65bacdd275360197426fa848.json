{"ast":null,"code":"var _jsxFileName = \"/home/artagan/Desktop/equipment/web-frontend/src/components/CueStatus/CueStatus.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport './CueStatus.css';\n\n/**\n * Represents a basic one-channel input (e.g. a single channel's volume or a\n * single dimmer's intensity).\n */\nexport default function CueStatus({\n  data,\n  dispatch,\n  cues,\n  server\n}) {\n  let [cue_number, set_cue_number] = useState(data.current);\n  let [saved_cue_number, set_saved_cue_number] = useState(data.current);\n  let [cue_time, set_cue_time] = useState(data.fade_time);\n  useEffect(() => {\n    if (data.current !== saved_cue_number) {\n      set_saved_cue_number(data.current);\n      set_cue_number(data.current);\n      set_cue_time(data.fade_time);\n    }\n  }, [data, saved_cue_number]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"CueStatus\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"_view\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"_previousQ\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, data.previous, \"\\u2190\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"_currentQ\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, data.current), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"_nextQ\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, \"\\u2192\", data.next)), /*#__PURE__*/React.createElement(\"progress\", {\n    className: \"_fadeProgress\",\n    max: \"255\",\n    value: data.fade_progress * 255,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"_controls\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"_back\",\n    onClick: () => server.back(),\n    disabled: data.previous === data.current,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"Back\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"_go\",\n    onClick: () => server.go(),\n    disabled: !data.fading && data.next === data.current,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, \"Go!\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"_recording\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"Cue:\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    value: cue_number,\n    onChange: evt => set_cue_number(parseInt(evt.target.value) || 0),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, \"Time:\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    value: cue_time,\n    onChange: evt => set_cue_time(parseFloat(evt.target.value) || 0),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"_record\",\n    onClick: () => server.save_cue(cue_number, cue_time),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, \"Record\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"_delete\",\n    onClick: () => delete_cue(cue_number, server),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Delete\"), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"_go_to_q\",\n    value: cue_number,\n    disabled: cues.length === 0,\n    onChange: e => server.restore_cue(parseInt(e.target.value)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, cues.length === 0 ? /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"No cues.\") : cues.map(x => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: x,\n      value: x,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 26\n      }\n    }, \"Go to \", x);\n  }))))));\n}\n\nfunction delete_cue(q, server) {\n  let confirmation = window.confirm(`Are you sure you want to delete cue #${q}?`);\n\n  if (confirmation === true) {\n    server.delete_cue(q);\n  }\n}","map":{"version":3,"sources":["/home/artagan/Desktop/equipment/web-frontend/src/components/CueStatus/CueStatus.tsx"],"names":["React","useState","useEffect","CueStatus","data","dispatch","cues","server","cue_number","set_cue_number","current","saved_cue_number","set_saved_cue_number","cue_time","set_cue_time","fade_time","previous","next","fade_progress","back","go","fading","evt","parseInt","target","value","parseFloat","save_cue","delete_cue","length","e","restore_cue","map","x","q","confirmation","window","confirm"],"mappings":"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","sourcesContent":["import React, {Dispatch, useState, useEffect} from 'react';\nimport Action, {CueStatusData as ActionCueStatusData} from '../../action';\nimport './CueStatus.css';\nimport Server from '../../server';\n\nexport type CueStatusData = ActionCueStatusData;\n\n/**\n * Properties passed down from the parent into the fader.  These must be\n * updated via `dispatch`.\n */\ntype CueStatusProps = {\n  data: CueStatusData;\n  cues: number[],\n  dispatch: Dispatch<Action>;\n  server: Server;\n}\n\n/**\n * Represents a basic one-channel input (e.g. a single channel's volume or a\n * single dimmer's intensity).\n */\nexport default function CueStatus({data, dispatch, cues, server}: CueStatusProps) {\n  let [cue_number, set_cue_number] = useState(data.current);\n  let [saved_cue_number, set_saved_cue_number] = useState(data.current);\n  let [cue_time, set_cue_time] = useState(data.fade_time);\n\n  useEffect(() => {\n    if (data.current !== saved_cue_number) {\n      set_saved_cue_number(data.current);\n      set_cue_number(data.current);\n      set_cue_time(data.fade_time);\n    }\n  }, [data, saved_cue_number]);\n\n  return (\n    <div className=\"CueStatus\">\n      <div className=\"_view\">\n        <span className=\"_previousQ\">{data.previous}&larr;</span>\n        <span className=\"_currentQ\">{data.current}</span>\n        <span className=\"_nextQ\">&rarr;{data.next}</span>\n      </div>\n      <progress className=\"_fadeProgress\" max=\"255\" value={data.fade_progress * 255}/>\n      <div className=\"_controls\">\n        <button className=\"_back\"\n          onClick={() => server.back()}\n          disabled={data.previous === data.current}>\n          Back\n        </button>\n        <button className=\"_go\"\n          onClick={() => server.go()}\n          disabled={!data.fading && data.next === data.current}>\n          Go!\n        </button>\n        <div className=\"_recording\">\n          <label>\n            Cue:\n            <input type=\"number\" value={cue_number} onChange={(evt) => set_cue_number(parseInt(evt.target.value) || 0)}/>\n          </label>\n          <label>\n            Time:\n            <input type=\"number\" value={cue_time} onChange={(evt) => set_cue_time(parseFloat(evt.target.value) || 0)}/>\n          </label>\n          <button className=\"_record\" onClick={() => server.save_cue(cue_number, cue_time)}>\n            Record\n          </button>\n          <div>\n            <button className=\"_delete\" onClick={() => delete_cue(cue_number, server)}>\n              Delete\n            </button>\n            <select className=\"_go_to_q\" value={cue_number} disabled={cues.length === 0} onChange={(e) => server.restore_cue(parseInt(e.target.value))}>\n              {\n                cues.length === 0 ?\n                <option>No cues.</option>\n                : cues.map(x => {\n                  return <option key={x} value={x}>Go to {x}</option>\n                })\n              }\n            </select>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction delete_cue(q: number, server: Server) {\n  let confirmation = window.confirm(`Are you sure you want to delete cue #${q}?`);\n  if (confirmation === true) {\n    server.delete_cue(q);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}