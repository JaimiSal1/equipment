{"map":{"version":3,"sources":["static/js/main.d955d725.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","createForOfIteratorHelper","objectSpread2","reducer","state","action","type","Object","connected","status","cue","cues","value","faders","map","fader","channel","update_channel","values","_step","new_faders","channels","x","_iterator","s","done","indexOf","err","e","f","update_channels","new_lists","_step2","lists","id","name","_iterator2","l","update_lists","_step3","_iterator3","switch_list","Fader_Fader","_ref","state_modified","data","dispatch","server","a","createElement","className","Math","round","min","max","onChange","event","target","set_level","parseInt","fader_changed","disabled","onClick","reset_channel","track_channel","block_channel","classCallCheck","createClass","server_Server","Server","list_id","socket","disconnect_timeout","connect","key","_this","readyState","WebSocket","OPEN","onmessage","evt","onopen","onclose","undefined","window","setTimeout","onerror","close","console","log","clearTimeout","send","JSON","stringify","msg","parse","get_levels","list_cues","get_lists","_unused","error","list","current","fade_time","parseFloat","fade_progress","fading","last","next","previous","number","floor","time","CueStatus_CueStatus","_useState","_useState2","cue_number","set_cue_number","_useState3","_useState4","saved_cue_number","set_saved_cue_number","_useState5","_useState6","cue_time","set_cue_time","back","go","save_cue","q","confirm","concat","delete_cue","length","restore_cue","controller_Controller","Controller","input","timeouts","pending_recording","last_state","Map","navigator","requestMIDIAccess","sysex","then","onaccess","onfailure","access","_this2","inputs","size","entries","manufacturer","onmidimessage","m","message","_this3","has","get","set","ontimeout","delete","ListControls_ListControls","list_ids","free_id","change_list","old_name","prompt","rename_list","delete_list","remove_list","initialState","App_App","_props","_controller$current","_useReducer","_useReducer2","controller","_server$current","disconnect","update_state","reduce","prev","sort","b","faderState","i","_server$current2","save_to_disk","Boolean","location","hostname","match","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","catch"],"mappings":"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"},"code":"(this[\"webpackJsonpweb-frontend\"]=this[\"webpackJsonpweb-frontend\"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(19)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){\"use strict\";n.r(t);var a=n(0),s=n.n(a),i=n(8),c=n.n(i),r=(n(14),n(3)),u=(n(15),n(2)),l=n(1);function o(e,t){switch(t.type){case\"connection_change\":return Object(l.a)({},e,{connected:t.status});case\"update_cue\":return Object(l.a)({},e,{cue:t.cue});case\"update_cue_list\":return Object(l.a)({},e,{cues:t.cues});case\"update_channel\":return function(e,t){if(t.value<0||t.value>255)return e;var n=e.faders.map((function(e){return e.channel===t.channel?{channel:e.channel,value:t.value,status:t.status}:e}));return Object(l.a)({},e,{faders:n})}(e,t.value);case\"update_channels\":return function(e,t){var n,a=t,s=a.map((function(e){return e.channel})),i=Object(u.a)(e.faders);try{for(i.s();!(n=i.n()).done;){var c=n.value;-1===s.indexOf(c.channel)&&(c.value=0,c.status=\"manual\",a.push(c),s.push(c.channel))}}catch(r){i.e(r)}finally{i.f()}return Object(l.a)({},e,{faders:a})}(e,t.values);case\"update_lists\":return function(e,t){var n,a={id:e.lists.id,name:\"loading\",lists:t},s=Object(u.a)(a.lists);try{for(s.s();!(n=s.n()).done;){var i=n.value;i.id===e.lists.id&&(a.name=i.name)}}catch(c){s.e(c)}finally{s.f()}return Object(l.a)({},e,{lists:a})}(e,t.lists);case\"switch_list\":return function(e,t){var n,a={id:t,name:\"loading\",lists:e.lists.lists},s=Object(u.a)(a.lists);try{for(s.s();!(n=s.n()).done;){var i=n.value;i.id===e.lists.id&&(a.name=i.name)}}catch(c){s.e(c)}finally{s.f()}return Object(l.a)({},e,{lists:a})}(e,t.id)}}n(16);function d(e){var t=e.state_modified,n=e.data,a=e.dispatch,i=e.server;return s.a.createElement(\"div\",{className:\"Fader\"},s.a.createElement(\"p\",{className:\"_text _\"+n.status},n.channel,\": \",Math.round(n.value/255*100)),s.a.createElement(\"br\",null),s.a.createElement(\"input\",{className:\"_fader\",type:\"range\",min:\"0\",max:\"255\",value:n.value,onChange:function(e){return function(e,t,n,a){n.set_level(t.channel,parseInt(e.value)),a({type:\"update_channel\",value:Object(l.a)({},t,{value:parseInt(e.value)})})}(e.target,n,i,a)}}),s.a.createElement(\"button\",{disabled:\"manual\"!==n.status,onClick:function(){return i.reset_channel(n.channel)}},\"Reset\"),s.a.createElement(\"button\",{disabled:t||\"tracked\"===n.status,onClick:function(){return i.track_channel(n.channel)}},\"Track\"),s.a.createElement(\"button\",{disabled:t||\"tracked\"!==n.status,onClick:function(){return i.block_channel(n.channel)}},\"Block\"))}var h=n(4),f=n(5),v=function(){function e(t,n){Object(h.a)(this,e),this.socket=void 0,this.dispatch=void 0,this.disconnect_timeout=void 0,this.list_id=void 0,this.dispatch=t,this.socket=this.connect(),this.list_id=n}return Object(f.a)(e,[{key:\"connect\",value:function(){var e=this;if(this.socket&&this.socket.readyState===WebSocket.OPEN)return this.socket;var t=new WebSocket(\"ws://localhost:8000\");return t.onmessage=function(t){return e.onmessage(t.data)},t.onopen=function(){return e.onopen()},t.onclose=function(){void 0===e.disconnect_timeout&&(e.disconnect_timeout=window.setTimeout((function(){e.dispatch({type:\"connection_change\",status:!1})}),1e3)),setTimeout((function(){e.socket=e.connect()}),100)},t.onerror=function(){t.close()},this.socket=t,t}},{key:\"disconnect\",value:function(){console.log(\"disconnect\"),this.onmessage=function(){},this.socket&&(this.socket.onclose=function(){},this.socket.close())}},{key:\"onopen\",value:function(){window.clearTimeout(this.disconnect_timeout),this.disconnect_timeout=void 0,this.dispatch({type:\"connection_change\",status:!0});var e={type:\"get-levels\",list_id:this.list_id};this.socket.send(JSON.stringify(e)),e={type:\"list-cues\",list_id:this.list_id},this.socket.send(JSON.stringify(e));this.socket.send(JSON.stringify({type:\"get-lists\"}))}},{key:\"onmessage\",value:function(e){try{var t=JSON.parse(e);switch(t.type){case\"get-levels\":this.get_levels(t);break;case\"list-cues\":this.list_cues(t);break;case\"get-lists\":this.get_lists(t);break;default:console.log(\"Unrecognized message type!\")}}catch(n){console.error(\"Error while deserializing!\")}}},{key:\"get_levels\",value:function(e){if(parseInt(e.list)===this.list_id){var t=e.values||[];this.dispatch({type:\"update_channels\",values:t.map((function(e){return{channel:parseInt(e.channel),value:parseInt(e.value),status:e.status}}))}),this.dispatch({type:\"update_cue\",cue:{current:parseInt(e.cue.current),fade_time:parseFloat(e.cue.fade_time),fade_progress:parseFloat(e.cue.fade_progress),fading:\"true\"===e.cue.fading,last:parseInt(e.cue.last),next:parseInt(e.cue.next),previous:parseInt(e.cue.previous)}})}}},{key:\"get_lists\",value:function(e){var t=e.lists||[];this.dispatch({type:\"update_lists\",lists:t.map((function(e){return{name:e.name,id:parseInt(e.number)}}))})}},{key:\"list_cues\",value:function(e){if(parseInt(e.list)===this.list_id){var t=e.cues||[];this.dispatch({type:\"update_cue_list\",cues:t.map((function(e){return parseInt(e.number)}))})}}},{key:\"rename_list\",value:function(e,t){e=Math.floor(e);var n={type:\"rename-list\",list_id:this.list_id,name:t};this.socket.send(JSON.stringify(n))}},{key:\"delete_list\",value:function(e){e=Math.floor(e);var t={type:\"delete-list\",list_id:this.list_id};this.socket.send(JSON.stringify(t))}},{key:\"reset_channel\",value:function(e){e=Math.floor(e);var t={type:\"reset-channel\",list_id:this.list_id,channel:e};this.socket.send(JSON.stringify(t))}},{key:\"block_channel\",value:function(e){e=Math.floor(e);var t={type:\"block-channel\",list_id:this.list_id,channel:e};this.socket.send(JSON.stringify(t))}},{key:\"track_channel\",value:function(e){e=Math.floor(e);var t={type:\"track-channel\",list_id:this.list_id,channel:e};this.socket.send(JSON.stringify(t))}},{key:\"set_level\",value:function(e,t){e=Math.floor(e),t=Math.floor(t);var n={type:\"set-levels\",list_id:this.list_id,values:[{channel:e,value:t}]};this.socket.send(JSON.stringify(n))}},{key:\"save_cue\",value:function(e,t){e=Math.floor(e);var n={type:\"save-cue\",list_id:this.list_id,cue:e,time:t};this.socket.send(JSON.stringify(n))}},{key:\"delete_cue\",value:function(e){e=Math.floor(e);var t={type:\"delete-cue\",list_id:this.list_id,cue:e};this.socket.send(JSON.stringify(t))}},{key:\"restore_cue\",value:function(e){e=Math.floor(e);var t={type:\"restore-cue\",list_id:this.list_id,cue:e};this.socket.send(JSON.stringify(t))}},{key:\"go\",value:function(){var e={type:\"go-cue\",list_id:this.list_id};this.socket.send(JSON.stringify(e))}},{key:\"back\",value:function(){var e={type:\"back-cue\",list_id:this.list_id};this.socket.send(JSON.stringify(e))}},{key:\"save_to_disk\",value:function(){this.socket.send(JSON.stringify({type:\"save-to-disk\"}))}}]),e}();n(17);function m(e){var t=e.data,n=(e.dispatch,e.cues),i=e.server,c=Object(a.useState)(t.current),u=Object(r.a)(c,2),l=u[0],o=u[1],d=Object(a.useState)(t.current),h=Object(r.a)(d,2),f=h[0],v=h[1],m=Object(a.useState)(t.fade_time),p=Object(r.a)(m,2),_=p[0],g=p[1];return Object(a.useEffect)((function(){t.current!==f&&(v(t.current),o(t.current),g(t.fade_time))}),[t,f]),s.a.createElement(\"div\",{className:\"CueStatus\"},s.a.createElement(\"div\",{className:\"_view\"},s.a.createElement(\"span\",{className:\"_previousQ\"},t.previous,\"\\u2190\"),s.a.createElement(\"span\",{className:\"_currentQ\"},t.current),s.a.createElement(\"span\",{className:\"_nextQ\"},\"\\u2192\",t.next)),s.a.createElement(\"progress\",{className:\"_fadeProgress\",max:\"255\",value:255*t.fade_progress}),s.a.createElement(\"div\",{className:\"_controls\"},s.a.createElement(\"button\",{className:\"_back\",onClick:function(){return i.back()},disabled:t.previous===t.current},\"Back\"),s.a.createElement(\"button\",{className:\"_go\",onClick:function(){return i.go()},disabled:!t.fading&&t.next===t.current},\"Go!\"),s.a.createElement(\"div\",{className:\"_recording\"},s.a.createElement(\"label\",null,\"Cue:\",s.a.createElement(\"input\",{type:\"number\",value:l,onChange:function(e){return o(parseInt(e.target.value)||0)}})),s.a.createElement(\"label\",null,\"Time:\",s.a.createElement(\"input\",{type:\"number\",value:_,onChange:function(e){return g(parseFloat(e.target.value)||0)}})),s.a.createElement(\"button\",{className:\"_record\",onClick:function(){return i.save_cue(l,_)}},\"Record\"),s.a.createElement(\"div\",null,s.a.createElement(\"button\",{className:\"_delete\",onClick:function(){return function(e,t){!0===window.confirm(\"Are you sure you want to delete cue #\".concat(e,\"?\"))&&t.delete_cue(e)}(l,i)}},\"Delete\"),s.a.createElement(\"select\",{className:\"_go_to_q\",value:l,disabled:0===n.length,onChange:function(e){return i.restore_cue(parseInt(e.target.value))}},0===n.length?s.a.createElement(\"option\",null,\"No cues.\"):n.map((function(e){return s.a.createElement(\"option\",{key:e,value:e},\"Go to \",e)})))))))}var p=function(){function e(t,n,a){Object(h.a)(this,e),this.server=void 0,this.dispatch=void 0,this.input=void 0,this.timeouts=void 0,this.pending_recording=void 0,this.last_state=void 0,this.last_state=t,this.dispatch=n,this.server=a,this.connect(),this.timeouts=new Map,this.pending_recording=!1}return Object(f.a)(e,[{key:\"connect\",value:function(){var e=this;navigator.requestMIDIAccess?(console.log(\"WebMidi enabled\"),navigator.requestMIDIAccess({sysex:!0}).then((function(t){return e.onaccess(t)}),(function(){return e.onfailure()}))):console.log(\"WebMidi is not supported\")}},{key:\"onaccess\",value:function(e){var t=this,n=e.inputs;0===n.size&&console.log(\"No MIDI devices detected.\");var a,s=Object(u.a)(n.entries());try{for(s.s();!(a=s.n()).done;){var i=a.value[1];if(i.manufacturer)return this.input=i,void(i.onmidimessage=function(e){return t.onmessage(e)})}}catch(c){s.e(c)}finally{s.f()}}},{key:\"onfailure\",value:function(){console.log(\"WebMidi access denied\")}},{key:\"onmessage\",value:function(e){var t=this,n=e.data[1],a=2*e.data[2];if(n>8){if(0===a)return;this.pending_recording?(45===n||60===n?this.server.save_cue(this.last_state.cue.current,this.last_state.cue.fade_time):61===n?this.server.save_cue(this.last_state.cue.current-1,this.last_state.cue.fade_time):62===n&&this.server.save_cue(this.last_state.cue.current+1,this.last_state.cue.fade_time),this.pending_recording=!1):(41!==n&&44!==n||this.server.go(),42!==n&&43!==n||this.server.back(),45===n&&(this.pending_recording=!0),n>=64&&n<=71&&this.server.reset_channel(n-64))}else this.timeouts.has(n)&&clearTimeout(this.timeouts.get(n)),this.timeouts.set(n,window.setTimeout((function(){return t.ontimeout(n,a)}),1))}},{key:\"ontimeout\",value:function(e,t){this.server.set_level(e,t),this.timeouts.delete(e)}},{key:\"update_state\",value:function(e){this.last_state=e}}]),e}();n(18);function _(e){for(var t=e.data,n=e.dispatch,a=e.server,i=t.id,c=t.name,r=t.lists,u=r.map((function(e){return e.id})),l=0;-1!==u.indexOf(l);)l++;return s.a.createElement(\"div\",{className:\"list_controls\"},\"Cue List (\",i+1,\"/\",r.length,\"):\\xa0\\xa0\",s.a.createElement(\"select\",{value:i,onChange:function(e){return function(e,t){console.log(e),t({type:\"switch_list\",id:e})}(parseInt(e.target.value),n)}},r.map((function(e){return s.a.createElement(\"option\",{key:e.id,value:e.id},e.name)})),s.a.createElement(\"option\",{value:l},\"Add new...\")),s.a.createElement(\"button\",{onClick:function(){return function(e,t,n){var a=prompt('Please enter a new name for this cue list (current is \"'.concat(t,'\")'));null!==a&&n.rename_list(e,a)}(i,c,a)}},\"Rename\"),s.a.createElement(\"button\",{onClick:function(){return function(e,t,n,a,s){!0===window.confirm('Are you sure you want to delete all the cues in \"'.concat(t,'\"? This cannot be undone.'))&&(a.delete_list(e),s({type:\"switch_list\",id:0}))}(i,c,0,a,n)}},\"Delete\"))}var g={connected:!1,cue:{current:0,fade_time:1,fade_progress:1,fading:!1,last:0,next:0,previous:0},cues:[],faders:[{channel:0,value:0,status:\"manual\"},{channel:1,value:0,status:\"manual\"},{channel:2,value:0,status:\"manual\"},{channel:3,value:0,status:\"manual\"},{channel:4,value:0,status:\"manual\"},{channel:5,value:0,status:\"manual\"},{channel:6,value:0,status:\"manual\"},{channel:7,value:0,status:\"manual\"}],lists:{id:0,name:\"N/A\",lists:[]}};function k(e){var t,n=Object(a.useReducer)(o,g),i=Object(r.a)(n,2),c=i[0],u=i[1],l=Object(a.useRef)(null),h=Object(a.useRef)(null);if(Object(a.useEffect)((function(){return l.current=new v(u,c.lists.id),function(){var e;null===(e=l.current)||void 0===e||e.disconnect()}}),[c.lists.id]),Object(a.useEffect)((function(){l.current&&(h.current=new p(g,u,l.current))}),[l]),null===l.current)return s.a.createElement(\"div\",null,\"Loading...\");if(!c.connected)return s.a.createElement(\"div\",null,\"Connecting...\");null===(t=h.current)||void 0===t||t.update_state(c);var f=c.faders.reduce((function(e,t){return e||\"manual\"===t.status}),!1);return s.a.createElement(\"div\",{className:\"App\"},s.a.createElement(_,{data:c.lists,server:l.current,dispatch:u}),s.a.createElement(\"div\",{className:\"FaderBank\"},c.faders.sort((function(e,t){return e.channel>t.channel?1:-1})).map((function(e,t){return s.a.createElement(d,{key:t,state_modified:f,data:e,dispatch:u,server:l.current})}))),s.a.createElement(m,{data:c.cue,cues:c.cues,dispatch:u,server:l.current}),s.a.createElement(\"button\",{onClick:function(){var e;return null===(e=l.current)||void 0===e?void 0:e.save_to_disk()}},\"Save to Disk\"))}Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(k,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);","extractedComments":[]}